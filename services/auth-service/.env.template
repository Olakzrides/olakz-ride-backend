# ===========================================
# AUTH SERVICE ENVIRONMENT VARIABLES
# ===========================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env files to version control!

# -----------------------------------------
# ENVIRONMENT
# -----------------------------------------
NODE_ENV=development
PORT=3003

# -----------------------------------------
# DATABASE (Supabase PostgreSQL)
# -----------------------------------------
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
# Get this from: Supabase Dashboard > Project Settings > Database > Connection String (URI)
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres

# Supabase Configuration (for Supabase client SDK)
SUPABASE_URL=https://[YOUR-PROJECT-REF].supabase.co
SUPABASE_ANON_KEY=[YOUR-ANON-KEY]
# Optional: For admin operations (be careful with this!)
SUPABASE_SERVICE_ROLE_KEY=[YOUR-SERVICE-ROLE-KEY]

# -----------------------------------------
# JWT CONFIGURATION
# -----------------------------------------
# Generate a secure secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=[GENERATE-A-SECURE-SECRET-HERE]
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d

# -----------------------------------------
# OTP CONFIGURATION
# -----------------------------------------
OTP_LENGTH=4
OTP_EXPIRY_MINUTES=10
OTP_MAX_ATTEMPTS=3
OTP_RESEND_LIMIT_PER_HOUR=3

# -----------------------------------------
# EMAIL SERVICE (ZeptoMail SMTP)
# -----------------------------------------
# Get credentials from: https://www.zoho.com/zeptomail/
ZEPTO_SMTP_HOST=smtp.zeptomail.com
ZEPTO_SMTP_PORT=587
ZEPTO_SMTP_USER=emailapikey
ZEPTO_SMTP_PASS=[YOUR-ZEPTO-SMTP-PASSWORD]
ZEPTO_FROM_EMAIL=noreply@yourdomain.com
ZEPTO_FROM_NAME=Your App Name

# -----------------------------------------
# GOOGLE OAUTH (Optional)
# -----------------------------------------
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=[YOUR-GOOGLE-CLIENT-ID]
GOOGLE_CLIENT_SECRET=[YOUR-GOOGLE-CLIENT-SECRET]
GOOGLE_REDIRECT_URI=http://localhost:3003/api/auth/google/callback

# -----------------------------------------
# APPLE SIGN-IN (Optional)
# -----------------------------------------
# Get credentials from: https://developer.apple.com/account/resources/identifiers/list/serviceId
APPLE_TEAM_ID=A4ZWJ6FJ23
APPLE_KEY_ID=W9477G3VC9
APPLE_SERVICE_ID=com.olakzride.service
APPLE_BUNDLE_ID=com.olakz.olakzride
APPLE_REDIRECT_URI=https://olakzride.duckdns.org/api/auth/apple/callback
# Apple Private Key (replace \n with actual newlines in production)
APPLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nMIGTAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBHkwdwIBAQQgcUDn146O8ETdeTIr\nrU9EdyEFtuDQGeu9/9xqEytz0NGgCgYIKoZIzj0DAQehRANCAARyaRbAwlS8Gh3E\nubeq6mob5ssw3BbVUodfMWQtXJMl+lFPWxOAbbEPQOpZ0Q5i/xmSLprz5pBgqViu\nBzpVSzn2\n-----END PRIVATE KEY-----"

# -----------------------------------------
# RATE LIMITING
# -----------------------------------------
REGISTRATION_RATE_LIMIT=5
LOGIN_RATE_LIMIT=5
LOGIN_BLOCK_DURATION_MINUTES=15

# -----------------------------------------
# CORS
# -----------------------------------------
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:19006,http://localhost:19000

# -----------------------------------------
# LOGGING
# -----------------------------------------
LOG_LEVEL=info

# -----------------------------------------
# FRONTEND URLS (for email links)
# -----------------------------------------
FRONTEND_URL=http://localhost:3000
MOBILE_APP_DEEP_LINK=yourapp://

# -----------------------------------------
# SECURITY
# -----------------------------------------
BCRYPT_ROUNDS=10

# -----------------------------------------
# SUPER ADMIN (Initial Admin Account)
# -----------------------------------------
# These credentials will be used to create the super admin account on first run
# Change these to your desired super admin credentials
SUPER_ADMIN_EMAIL=admin@yourdomain.com
SUPER_ADMIN_PASSWORD=[GENERATE-A-SECURE-PASSWORD]
